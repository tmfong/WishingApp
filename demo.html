<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <!--<link rel="shortcut icon" href="../../docs-assets/ico/favicon.png">-->

  <title>Wishes</title>
  <!-- Bootstrap core CSS -->
  <!--link href="//getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet"-->
  <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/offcanvas.css" rel="stylesheet">

  <!-- Just for debugging purposes. Don't actually copy this line! -->
  <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>
  <script type="text/x-handlebars">

    <button type="button" class="btn btn-success" {{action 'addingRecord'}}>
      <span class="glyphicon glyphicon-plus">New</span>
    </button>  
      
    <br><br>

    {{outlet}}

  </script>

  <script type="text/x-handlebars" data-template-name="days">
    {{#if isAddingRecord}}    
      {{day-record isEditing=true isNewRecord=true updateAction='save' record=currentDay}}
    {{/if}}

    {{#each}}
      {{day-record isEditing=false updateAction='update' record=this}}
    {{/each}}
  </script>

  
  <!--    Component: Day Record    -->

  <script type="text/x-handlebars" data-template-name="components/day-record">
    {{#if isEditing}} 

      <button type="button" class="btn btn-primary" {{action 'update'}}>
        <span class="glyphicon glyphicon-ok">Ok</span>
      </button> 

      {{input placeholder="YYYY-MM-DD" value=record.date class="form-control" size="10" maxlength="10"}}   
      {{textarea placeholder="I wish..." rows="10" value=record.a class="form-control"}}

      <br><br>

    {{else}}

      {{record.dateDisplay}}

      <button type="button" class="btn btn-default" {{action 'editing'}}>
        <span class="glyphicon glyphicon-pencil">Edit</span>
      </button> 

      <div class="md">
        {{format-markdown record.a}}
      </div>
    {{/if}}      
  </script>


  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.1.2/handlebars.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/ember.js/1.3.0-beta.4/ember.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/ember-data.js/1.0.0-beta.4/ember-data.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/showdown/0.3.1/showdown.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.1.0/moment.min.js"></script>   
  <script src="//www.dropbox.com/static/api/dropbox-datastores-1.0-latest.js"></script>
  <script src="js/ember-dropbox-datastore-adapter.js"></script>
  <script src="js/demo.js"></script>
</body>
</html>
